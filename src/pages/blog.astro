---
import MuiThemeProvider from '../components/MuiThemeProvider';
import BlogTemplate from '../components/blog/Blog';
import Layout from '../layouts/Layout.astro';
---

<Layout>
  <MuiThemeProvider client:load>
    <BlogTemplate client:load />
  </MuiThemeProvider>
  
  <!-- Simple vanilla JS toggle button -->
  <button 
    id="theme-toggle" 
    type="button"
    style={{
      position: 'fixed',
      bottom: '20px',
      right: '20px',
      zIndex: 1000,
      padding: '12px',
      borderRadius: '50%',
      border: 'none',
      background: '#1976d2',
      color: 'white',
      fontSize: '20px',
      cursor: 'pointer',
      boxShadow: '0 4px 8px rgba(0,0,0,0.2)'
    }}
  >
    üåô
  </button>
</Layout>

<script>
  const toggleButton = document.getElementById('theme-toggle');
  let isDark = false;
  
  if (toggleButton) {
    toggleButton.addEventListener('click', () => {
      isDark = !isDark;
      const newMode = isDark ? 'dark' : 'light';
      
      // Set the MUI theme attribute
      document.documentElement.setAttribute('data-mui-color-scheme', newMode);
      
      // Update button icon
      toggleButton.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
      
      // Change page background as immediate feedback
      document.body.style.backgroundColor = isDark ? '#121212' : '#ffffff';
      document.body.style.color = isDark ? '#ffffff' : '#000000';
    });
  }
</script>

<style>
  /* Global styles for the blog page */
  body {
    margin: 0;
    padding: 0;
  }
</style>
